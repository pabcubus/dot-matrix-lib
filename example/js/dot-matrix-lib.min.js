function init(t){var e,i,n;(tempCanvas=document.createElement("canvas")).setAttribute("style","display: none;"),(e=document.createElement("div")).setAttribute("class","dot-popup"),e.setAttribute("style","display: none;"),document.createElement("h4").innerHTML="Data",(i=document.createElement("div")).setAttribute("id","xValue"),(n=document.createElement("div")).setAttribute("id","yValue"),e.appendChild(i),e.appendChild(n);var a=document.getElementById(t);a.setAttribute("style","position: relative;"),a.appendChild(e)}function mouseMoveEvent(t){var e=t.offsetX,i=t.offsetY,n=document.getElementsByClassName("dot-popup")[0],a=document.getElementById("xValue"),s=document.getElementById("yValue"),r=!0;points.forEach(function(o){r&&(o.x<=e-radius/2&&e-radius/2<=o.x+2*radius&&o.y<=i-radius/2&&i-radius/2<=o.y+2*radius?(n.setAttribute("style","display: block; top: "+(t.offsetY+10)+"px; left:"+(t.offsetX+10)+"px;"),a.innerHTML=o.xTitle,s.innerHTML=o.yTitle,r=!1):n.setAttribute("style","display: none;"))}),r=!0}function getStringsWidth(t,e){var i=0,n=tempCanvas.getContext("2d");return n.font="number"==typeof e?e+"px Arial":"10px Arial",Array.isArray(t)&&t.forEach(function(t,e){var a=n.measureText(t).width;a>i&&(i=a)}),i}function drawRect(t,e,i,n,a){t.getContext("2d").strokeRect(e,i,n,a)}function drawCircle(t,e,i,n,a,s){var r=t.getContext("2d");r.beginPath(),s&&(e+=n,i+=n),r.arc(e,i,n,0,2*Math.PI),r.fillStyle="string"==typeof a?a:"#FFFFFF",r.fill()}function drawText(t,e,i,n,a,s){var r=t.getContext("2d");r.textAlign=s||"start",r.font="number"==typeof a?a+"px Arial":"12px Arial",r.fillStyle="#000000",r.fillText(e,i,n),r.textAlign="start"}function drawLine(t,e,i,n,a){var s=t.getContext("2d");s.beginPath(),s.moveTo(e,i),s.lineTo(n,a),s.stroke()}function rotate(t,e){t.getContext("2d").rotate(e)}function push(t){t.getContext("2d").save()}function pop(t){t.getContext("2d").restore()}function drawGraph(t,e){init(t);var i,n,a=document.getElementById(t),s=getComputedStyle(a),r=parseInt(s.paddingTop.replace("px",""))+parseInt(s.paddingBottom.replace("px","")),o=parseInt(s.paddingLeft.replace("px",""))+parseInt(s.paddingRight.replace("px","")),d=document.getElementById(canvasId);d&&a.removeChild(d);var c=[];e.series.data.forEach(function(t,e){c.push(t.text)});var p=[];e.series.x.forEach(function(t,e){p.push(t.text)});var u=getStringsWidth(p,thisFontSize),l=getStringsWidth(c,thisFontSize);yTicks=e.series.data.length,xTicks=e.series.data.x,void 0!==e.size&&"string"==typeof e.size.height&&"auto"==e.size.height?n=u+(yTickSpacing=thisFontSize+10)*yTicks:void 0!==e.size&&"number"==typeof e.size.height?(n=e.size.height,yTickSpacing=(n-u)/yTicks):(n=a.clientHeight-o,yTickSpacing=(n-u)/yTicks),void 0!==e.size&&"string"==typeof e.size.width&&"auto"==e.size.width?i=l+(xTickSpacing=thisFontSize+10)*xTicks:void 0!==e.size&&"number"==typeof e.size.width?(i=e.size.width,xTickSpacing=(i-l)/yTicks):(i=a.clientWidth-r,xTickSpacing=(i-l)/yTicks);var g=document.createElement("canvas");g.setAttribute("width",i),g.setAttribute("height",n),1!=e.dot_popup&&void 0!=e.dot_popup&&null!=e.dot_popup||g.addEventListener("mousemove",mouseMoveEvent),g.setAttribute("id",canvasId),a.appendChild(g),d=document.getElementById(canvasId);var h=.3*i,m=getStringsWidth(e.series.categories,thisFontSize);drawCircle(d,h,8,4,"#009700",!0),drawText(d,e.series.categories[0],h+15,17,thisFontSize),drawCircle(d,h+m+60,8,4,"#FF0000",!0),drawText(d,e.series.categories[1],h+m+75,17,thisFontSize);var v=l+40,y=v,f=n-(u+40);drawLine(d,v,25,v,f),drawLine(d,y,f,i,f)}var canvasId="dot-matrix-canvas",yTicks,yTickSpacing,xTicks,xTickSpacing,points=[],radius=4,thisFontSize=11,tempCanvas;