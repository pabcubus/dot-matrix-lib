var canvasId="dot-matrix-canvas";var yPoint;var xPoint;var yTicks;var yTickSpacing;var xTicks;var xTickSpacing;var points=[];var radius=4;var thisFontSize=10;function init(f){var a;var d;var c;var b;a=document.createElement("div");a.setAttribute("class","dot-popup");a.setAttribute("style","display: none;");d=document.createElement("h4");d.innerHTML="Data";c=document.createElement("div");c.setAttribute("id","xValue");b=document.createElement("div");b.setAttribute("id","yValue");a.appendChild(c);a.appendChild(b);var e=document.getElementById(f);e.setAttribute("style","position: relative;");e.appendChild(a)}function mouseMoveEvent(e){var a=e.offsetX;var g=e.offsetY;var b=document.getElementsByClassName("dot-popup")[0];var d=document.getElementById("xValue");var c=document.getElementById("yValue");var f=true;points.forEach(function(h){if(f){if(h.x<=(a-(radius/2))&&(a-(radius/2))<=(h.x+(radius*2))&&h.y<=(g-(radius/2))&&(g-(radius/2))<=(h.y+(radius*2))){b.setAttribute("style","display: block; top: "+(e.offsetY+10)+"px; left:"+(e.offsetX+10)+"px;");d.innerHTML=h.xTitle;c.innerHTML=h.yTitle;f=false}else{b.setAttribute("style","display: none;")}}});f=true}function getStringsWidth(b,e,d){var c=0;var a=b.getContext("2d");a.font=(typeof d==="number")?d+"px Arial":"10px Arial";if(Array.isArray(e)){e.forEach(function(h,g){var f=a.measureText(h).width;if(f>c){c=f}})}return c}function drawRect(d,b,f,e,a){var c=d.getContext("2d");c.strokeRect(b,f,e,a)}function drawCircle(d,a,g,f,c,e){var b=d.getContext("2d");b.beginPath();if(e){a+=f;g+=f}b.arc(a,g,f,0,2*Math.PI);b.fillStyle=(typeof c==="string")?c:"#FFFFFF";b.fill()}function drawText(c,e,a,g,d,f){var b=c.getContext("2d");b.textAlign=f?f:"start";b.font=(typeof d==="number")?d+"px Arial":"12px Arial";b.fillStyle="#000000";b.fillText(e,a,g);b.textAlign="start"}function drawLine(d,c,f,b,e){var a=d.getContext("2d");a.beginPath();a.moveTo(c,f);a.lineTo(b,e);a.stroke()}function rotate(b,c){var a=b.getContext("2d");a.rotate(c)}function drawGraph(p,A){init(p);yTicks=A.series.data.length;xTicks=A.series.x.length;var f=document.getElementById(p);var t=getComputedStyle(f);var m=parseInt(t.paddingTop.replace("px",""))+parseInt(t.paddingBottom.replace("px",""));var u=parseInt(t.paddingLeft.replace("px",""))+parseInt(t.paddingRight.replace("px",""));var g;var b;g=Number.isInteger(A.size.width)?A.size.width:f.clientWidth-m;if((typeof A.size.height=="string")&&(A.size.height=="auto")){b=(thisFontSize+4)*yTicks}else{if(typeof A.size.height=="number"){b=A.size.height}else{b=f.clientHeight-u}}var c=document.getElementById(canvasId);if(c){f.removeChild(c)}var e=document.createElement("canvas");e.setAttribute("width",g);e.setAttribute("height",b);if(A.dot_popup==true||A.dot_popup==undefined||A.dot_popup==null){e.addEventListener("mousemove",mouseMoveEvent)}e.setAttribute("id",canvasId);f.appendChild(e);c=document.getElementById(canvasId);var d=25;var a=g*0.3;var o=getStringsWidth(c,A.series.categories,12);drawCircle(c,a,8,4,"#009700",true);drawText(c,A.series.categories[0],a+15,17,12);drawCircle(c,a+o+60,8,4,"#FF0000",true);drawText(c,A.series.categories[1],a+o+75,17,12);var B=[];A.series.data.forEach(function(j,i){B.push(j.text)});yOffset=b*0.8;xOffset=10+getStringsWidth(c,B,12);yTickSpacing=((yOffset-d)/(yTicks+1));xTickSpacing=(g-xOffset)/(xTicks+1);drawLine(c,xOffset,d,xOffset,yOffset);drawLine(c,xOffset,yOffset,g,yOffset);for(var s=1;s<=xTicks;s++){drawLine(c,(s*xTickSpacing)+xOffset,yOffset,(s*xTickSpacing)+xOffset,yOffset+5)}for(s=1;s<=yTicks;s++){var w=yOffset-(s*yTickSpacing);drawLine(c,xOffset,w,xOffset-5,w)}for(s=1;s<=yTicks;s++){var w=(yOffset-(s*yTickSpacing));var z=xOffset-10;var v=A.series.data[s-1];drawText(c,v.text,z,w,thisFontSize,"right");for(var q=0;q<xTicks;q++){var h=v.values[q];var l=xOffset+((q+1)*xTickSpacing);var k=w;var n=radius;drawCircle(c,l,k,n,(h?"#009700":"#FF0000"));points.push({x:l-n,y:k-n,xTitle:v.values[q]==true?A.series.categories[0]:A.series.categories[1],yTitle:v.text})}}rotate(c,Math.PI/2);for(s=1;s<=xTicks;s++){var v=A.series.x[s-1];drawText(c,v,(yOffset+10),(-1*((s*xTickSpacing)+xOffset)),thisFontSize)}rotate(c,0)};