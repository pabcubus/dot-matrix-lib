function init(t){var e,i,s;(e=document.createElement("div")).setAttribute("class","dot-popup"),e.setAttribute("style","display: none;"),document.createElement("h4").innerHTML="Data",(i=document.createElement("div")).setAttribute("id","xValue"),(s=document.createElement("div")).setAttribute("id","yValue"),e.appendChild(i),e.appendChild(s);var n=document.getElementById(t);n.setAttribute("style","position: relative;"),n.appendChild(e)}function mouseMoveEvent(t){var e=t.offsetX,i=t.offsetY,s=document.getElementsByClassName("dot-popup")[0],n=document.getElementById("xValue"),r=document.getElementById("yValue"),a=!0;points.forEach(function(o){a&&(o.x<=e-radius/2&&e-radius/2<=o.x+2*radius&&o.y<=i-radius/2&&i-radius/2<=o.y+2*radius?(s.setAttribute("style","display: block; top: "+(t.offsetY+10)+"px; left:"+(t.offsetX+10)+"px;"),n.innerHTML=o.xTitle,r.innerHTML=o.yTitle,a=!1):s.setAttribute("style","display: none;"))}),a=!0}function getStringsWidth(t,e,i){var s=0,n=t.getContext("2d");return n.font="number"==typeof i?i+"px Arial":"10px Arial",Array.isArray(e)&&e.forEach(function(t,e){var i=n.measureText(t).width;i>s&&(s=i)}),s}function drawRect(t,e,i,s,n){t.getContext("2d").strokeRect(e,i,s,n)}function drawCircle(t,e,i,s,n,r){var a=t.getContext("2d");a.beginPath(),r&&(e+=s,i+=s),a.arc(e,i,s,0,2*Math.PI),a.fillStyle="string"==typeof n?n:"#FFFFFF",a.fill()}function drawText(t,e,i,s,n,r){var a=t.getContext("2d");a.textAlign=r||"start",a.font="number"==typeof n?n+"px Arial":"12px Arial",a.fillStyle="#000000",a.fillText(e,i,s),a.textAlign="start"}function drawLine(t,e,i,s,n){var r=t.getContext("2d");r.beginPath(),r.moveTo(e,i),r.lineTo(s,n),r.stroke()}function rotate(t,e){t.getContext("2d").rotate(e)}function push(t){t.getContext("2d").save()}function pop(t){t.getContext("2d").restore()}function drawGraph(t,e){init(t),points=[],yTicks=e.series.data.length,xTicks=e.series.x.length;var i=document.getElementById(t),s=getComputedStyle(i),n=parseInt(s.paddingTop.replace("px",""))+parseInt(s.paddingBottom.replace("px","")),r=parseInt(s.paddingLeft.replace("px",""))+parseInt(s.paddingRight.replace("px","")),a=document.getElementById(canvasId);a&&i.removeChild(a);var o,d;o=void 0!==e.size&&"string"==typeof e.size.width&&"auto"==e.size.width?(thisFontSize+8)*xTicks:void 0!==e.size&&"number"==typeof e.size.width?e.size.width:i.clientWidth-n,d=void 0!==e.size&&"string"==typeof e.size.height&&"auto"==e.size.height?(thisFontSize+4)*yTicks:void 0!==e.size&&"number"==typeof e.size.height?e.size.height:i.clientHeight-r;var c=document.createElement("canvas");c.setAttribute("width",o),c.setAttribute("height",d),1!=e.dot_popup&&void 0!=e.dot_popup&&null!=e.dot_popup||c.addEventListener("mousemove",mouseMoveEvent),c.setAttribute("id",canvasId),i.appendChild(c),a=document.getElementById(canvasId);var p=[];e.series.data.forEach(function(t,e){p.push(t.text)});var l=[];e.series.x.forEach(function(t,e){l.push(t.text)});var u=d-getStringsWidth(a,l,thisFontSize)-40,g=10+getStringsWidth(a,p,12),h=.3*o,x=getStringsWidth(a,e.series.categories,thisFontSize);void 0!==e.series.labels&&"string"==typeof e.series.labels.x?drawText(a,e.series.labels.x,o-getStringsWidth(a,[e.series.labels.x],thisFontSize)-10,d-20,thisFontSize):drawText(a,"X Axis",o-getStringsWidth(a,["X Axis"],thisFontSize)-50,d-20,thisFontSize),drawCircle(a,h,8,4,"#009700",!0),drawText(a,e.series.categories[0],h+15,17,thisFontSize),drawCircle(a,h+x+60,8,4,"#FF0000",!0),drawText(a,e.series.categories[1],h+x+75,17,thisFontSize),yTickSpacing=(u-25)/(yTicks+1),xTickSpacing=(o-g)/(xTicks+1),drawLine(a,g,25,g,u),drawLine(a,g,u,o,u);for(var f=1;f<=xTicks;f++)drawLine(a,f*xTickSpacing+g,u,f*xTickSpacing+g,u+5);for(f=1;f<=yTicks;f++)drawLine(a,g,y=u-f*yTickSpacing,g-5,y);for(f=1;f<=yTicks;f++){var y=u-f*yTickSpacing,v=g-10;drawText(a,(k=e.series.data[f-1]).text,v,y,thisFontSize,"right");for(var T=0;T<xTicks;T++){var m=k.values[T],S=g+(T+1)*xTickSpacing,z=y,F=radius;drawCircle(a,S,z,F,m?"#009700":"#FF0000"),points.push({x:S-F,y:z-F,xTitle:1==k.values[T]?e.series.categories[0]:e.series.categories[1],yTitle:k.text})}}for(push(a),rotate(a,Math.PI/2),f=1;f<=xTicks;f++){var k=e.series.x[f-1];drawText(a,k,u+10,-1*(f*xTickSpacing+g),thisFontSize)}pop(a),push(a),rotate(a,3*Math.PI/2),void 0!==e.series.labels&&"string"==typeof e.series.labels.y?drawText(a,e.series.labels.y,-1*(getStringsWidth(a,[e.series.labels.y],thisFontSize)+30),20,thisFontSize):drawText(a,"Y Axis",-1*(getStringsWidth(a,["Y Axis"],thisFontSize)+30),20,thisFontSize),pop(a)}var canvasId="dot-matrix-canvas",yPoint,xPoint,yTicks,yTickSpacing,xTicks,xTickSpacing,points=[],radius=4,thisFontSize=10;