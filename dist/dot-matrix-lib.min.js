var canvasId="dot-matrix-canvas";var yPoint;var xPoint;var yTicks;var yTickSpacing;var xTicks;var xTickSpacing;function getStringsWidth(b,e,d){var c=0;var a=b.getContext("2d");a.font=(typeof d==="number")?d+"px Arial":"10px Arial";if(Array.isArray(e)){e.forEach(function(h,g){var f=a.measureText(h).width;if(f>c){c=f}})}return c}function drawRect(d,b,f,e,a){var c=d.getContext("2d");c.strokeRect(b,f,e,a)}function drawCircle(d,a,g,f,c,e){var b=d.getContext("2d");b.beginPath();if(e){a+=f;g+=f}b.arc(a,g,f,0,2*Math.PI);b.fillStyle=(typeof c==="string")?c:"#FFFFFF";b.fill()}function drawText(c,e,a,g,d,f){var b=c.getContext("2d");b.textAlign=f?f:"start";b.font=(typeof d==="number")?d+"px Arial":"12px Arial";b.fillStyle="#000000";b.fillText(e,a,g);b.textAlign="start"}function drawLine(d,c,f,b,e){var a=d.getContext("2d");a.beginPath();a.moveTo(c,f);a.lineTo(b,e);a.stroke()}function rotate(b,c){var a=b.getContext("2d");a.rotate(c)}function drawGraph(m,u,g,b){var f=document.getElementById(m);var p=getComputedStyle(f);var k=parseInt(p.paddingTop.replace("px",""))+parseInt(p.paddingBottom.replace("px",""));var q=parseInt(p.paddingLeft.replace("px",""))+parseInt(p.paddingRight.replace("px",""));var g=Number.isInteger(g)?g:f.clientWidth-k;var b=Number.isInteger(b)?b:f.clientHeight-q;var c=document.getElementById(canvasId);if(c){f.removeChild(c)}var e=document.createElement("canvas");e.setAttribute("width",g);e.setAttribute("height",b);e.setAttribute("id",canvasId);f.appendChild(e);c=document.getElementById(canvasId);var d=25;var a=g*0.3;var l=getStringsWidth(c,u.series.categories,12);drawCircle(c,a,8,4,"#009700",true);drawText(c,u.series.categories[0],a+15,17,12);drawCircle(c,a+l+60,8,4,"#FF0000",true);drawText(c,u.series.categories[1],a+l+75,17,12);var v=[];u.series.data.forEach(function(j,i){v.push(j.text)});yOffset=b*0.8;xOffset=10+getStringsWidth(c,v,12);yTicks=u.series.data.length;yTickSpacing=((yOffset-d)/(yTicks+1));xTicks=u.series.x.length;xTickSpacing=(g-xOffset)/(xTicks+1);drawLine(c,xOffset,d,xOffset,yOffset);drawLine(c,xOffset,yOffset,g,yOffset);for(var o=1;o<=xTicks;o++){drawLine(c,(o*xTickSpacing)+xOffset,yOffset,(o*xTickSpacing)+xOffset,yOffset+5)}for(o=1;o<=yTicks;o++){var s=yOffset-(o*yTickSpacing);drawLine(c,xOffset,s,xOffset-5,s)}for(o=1;o<=yTicks;o++){var s=(yOffset-(o*yTickSpacing));var t=xOffset-10;var r=u.series.data[o-1];drawText(c,r.text,t,s,10,"right");for(var n=0;n<xTicks;n++){var h=r.values[n];drawCircle(c,xOffset+((n+1)*xTickSpacing),s,4,(h?"#009700":"#FF0000"))}}rotate(c,Math.PI/2);for(o=1;o<=xTicks;o++){var r=u.series.x[o-1];drawText(c,r,(yOffset+10),(-1*((o*xTickSpacing)+xOffset)),10)}rotate(c,0)};